<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="/images/ARJ LOGO.png" type="image/x-icon">

  <!-- CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" />

  <!--fonts-->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
    rel="stylesheet" />

  <link rel="stylesheet" href="../styles/all.css" />
  <link rel="stylesheet" href="../styles/style.css" />
  <title>Registration</title>
</head>

<body>
  <div class="d-flex" id="wrapper">
    <!-- Sidebar -->
    <div class="bg-white" id="sidebar-wrapper">
      <div class="sidebar-heading text-center py-4 primary-text fs-4 fw-bold text-uppercase border-bottom">
        <i class="fa-solid fa-building-columns"></i>&nbsp;ARJ
      </div>
      <div class="list-group list-group-flush my-3">
        <a href="../pages/dashboard.html"
          class="list-group-item list-group-item-action bg-transparent second-text fw-bold"><i
            class="fas fa-tachometer-alt me-2"></i>Dashboard</a>

        <a href="../pages/semesterRegistration.html"
          class="list-group-item list-group-item-action bg-transparent second-text fw-bold active"><i
            class="fas fa-brands fa-wpforms me-2"></i>Registration</a>

        <a href="../pages/noticeBoard.html"
          class="list-group-item list-group-item-action bg-transparent second-text fw-bold"><i
            class="fas fa-solid fa-scroll me-2"></i>Notice Board</a>

        <a href="../pages/teacherFeedback.html"
          class="list-group-item list-group-item-action bg-transparent second-text fw-bold"><i
            class="fas fa-solid fa-comment me-2"></i>Teacher Feedback</a>

        <a href="../pages/aboutUs.html"
          class="list-group-item list-group-item-action bg-transparent second-text fw-bold"><i
            class="fas fa-solid fa-address-card me-2"></i>About Us</a>

        <a href="../pages/signin.html"
          class="list-group-item list-group-item-action bg-transparent text-danger fw-bold"><i
            class="fas fa-power-off me-2"></i>Logout</a>
      </div>
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
      <nav class="navbar navbar-expand-lg navbar-light bg-transparent py-4 px-4 d-flex justify-content-between">
        <div class="d-flex align-items-center">
          <i class="fas fa-solid fa-bars primary-text fs-4 me-3" id="menu-toggle"></i>
          <h2 class="fs-2 m-0">Registration</h2>
        </div>
        <img src="/images/ARJ LOGO.png" class="img-fluid " width="50px" alt="">
      </nav>

      <!-- MAKE CHANGES FROM HERE ON -->
      <div class="container p-4 w-75 vh-100">
        <div class="row h-75 align-items-center justify-content-center">
          <form class="my-auto" action="/php/semesterRegistration.php" method="POST" id="form">
            <div class="row mb-3">
              <label for="phoneNo" class="col-sm-3 col-form-label">Phone No</label>
              <div class="col-sm-9">
                <input class="form-control" type="number" maxlength="10" id="phoneNo" name="phoneNo" required />
              </div>
            </div>

            <div class="row mb-3">
              <label for="branch" class="col-sm-3 col-form-label">Branch</label>

              <div class="col-sm-9">
                <input class="form-control" type="text" id="branch" name="branch" required />
              </div>
            </div>

            <div class="row mb-3">
              <label for="currentYear" class="col-sm-3 col-form-label">Current Year</label>
              <div class="col-sm-9">
                <input class="form-control" type="number" maxlength="1" id="currentYear" name="currentYear"
                  required /><br />
              </div>
            </div>

            <div class="row mb-3">
              <label for="gender" class="col-sm-4 col-form-label">Gender</label>
              <div class="col-sm-8 container-fluid">
                <div class="form-check form-check-inline col-sm-5">
                  <input class="form-check-input" type="radio" id="male" name="gender" value="M" required />
                  <label class="form-check-label" for="male">Male</label>
                </div>

                <div class="form-check form-check-inline col-sm-4">
                  <input class="form-check-input" type="radio" id="female" name="gender" value="F" required />
                  <label class="form-check-label" for="female">Female</label>
                </div>
              </div>
            </div>

            <div class="row mb-3">
              <label for="feePaid" class="col-sm-4 col-form-label">Fee paid</label>
              <div class="col-sm-8 container-fluid">
                <div class="form-check col-sm-5">
                  <input class="form-check-input" type="checkbox" id="yes" name="feePaid" value="1" required />
                </div>
              </div>
            </div>

            <div class="row justify-content-center py-5">
              <button class="btn btn-lg btn-primary w-25 primary-bg" type="submit">
                Submit
              </button>
            </div>
          </form>
        </div>
      </div>
      <div id="data-container"></div>

      <!-- MAKE CHANGES ABOVE THIS -->
    </div>
  </div>

  <!-- /#page-content-wrapper -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const firebaseConfig = {
    apiKey: "AIzaSyCwY3ogotwg8p6SakN0MmvrpusFVpcL970",
    authDomain: "formtest-8e8fc.firebaseapp.com",
    databaseURL: "https://formtest-8e8fc-default-rtdb.firebaseio.com",
    projectId: "formtest-8e8fc",
    storageBucket: "formtest-8e8fc.appspot.com",
    messagingSenderId: "15994947140",
    appId: "1:15994947140:web:3e251fc4fe60b4e0bcde11"
  };
firebase.initializeApp(firebaseConfig);
var contactFormDB = firebase.database().ref('FormTest');

const saveMessages = (phoneVal, branchVal, YearVal) => {
     var newContactForm = contactFormDB.push();
    newContactForm.set({ 
      phoneNo: phoneVal,
      branch: branchVal,
      currentYear: YearVal,
    });
}


const form = document.querySelector('#form');
const phoneNo = document.querySelector('#phoneNo');
const branch = document.querySelector('#branch');
const currentYear = document.querySelector('#currentYear');
form.addEventListener('submit', (e) => {
  e.preventDefault();
  const phoneVal = phoneNo.value.trim();
  const branchVal = branch.value.trim();
  const YearVal = currentYear.value.trim();
  saveMessages (phoneVal, branchVal, YearVal);
  console.log(phoneVal, branchVal, YearVal)
  
});

    var el = document.getElementById("wrapper");
    var toggleButton = document.getElementById("menu-toggle");

    toggleButton.onclick = function () {
      el.classList.toggle("toggled");
    };
  </script>
</body>

</html>